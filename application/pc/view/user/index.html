{include file="public/header"/}
<!--==============================
Breadcumb
============================== -->

{include file="user/top"/}
<!--==============================
Dance Classes Area
==============================-->
<style >
    .edit-right {
        position: absolute;

        width: 16px;
        height: 16px;
        right: 30px;
    top: 45px;
    cursor: pointer;
    }
</style>
<section class="space-top space-extra-bottom">
    <div class="container">
        <div class="row flex-row">
             {include file="user/left_menu"/}
            <div class="col-xl-9 col-lg-8">
                <div class="block" id="userInfo">
                    <form action="ajaxUpdateUser" method="POST" class="login-form ajax-contact" id="pc_form">
                        <input type="hidden" value="{$userInfo.id}" name="id" id="id">
                        <h5 class="form-title">{$Think.lang.UserInfo}</h5>
                        <div class="row">
                            <div class="form-group">
                                <label>{$Think.lang.Name}</label>
                                <input type="text" class="form-control style-white" value="{$userInfo.name}" name="name" id="name" placeholder="">
                                <i class="fal fa-user"></i>
                            </div>
                            <div class="form-group style-3" style="position:relative">
                                <label>{$Think.lang.Password}</label>
                                <input disabled="disabled" type="password" class="form-control style-white" value="" name="login_password" id="login_password" placeholder=""
                                    require="" >
                                    <svg onclick="changeEdit()" class="edit-right" t="1714400391779" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6021" width="64" height="64"><path d="M908.785955 492.415966c-11.04966 0-20.008706 8.958022-20.008706 20.008706l0 338.328565c0 38.614459-31.416524 70.030983-70.030983 70.030983L202.707748 920.78422c-38.614459 0-70.030983-31.416524-70.030983-70.030983l0-676.303067c0-38.614459 31.416524-70.030983 70.030983-70.030983l362.378308 0c11.04966 0 20.008706-8.958022 20.008706-20.008706 0-11.050684-8.959046-20.008706-20.008706-20.008706L202.707748 64.401776c-60.681034 0-110.049418 49.367361-110.049418 110.049418l0 676.303067c0 60.681034 49.367361 110.049418 110.049418 110.049418l616.038518 0c60.681034 0 110.049418-49.367361 110.049418-110.049418L928.795685 512.425695C928.795685 501.373988 919.836639 492.415966 908.785955 492.415966zM942.576549 117.985158 907.20597 82.614579c-23.405059-23.405059-61.486376-23.400966-84.891436 0l-422.369633 422.36861c-1.295506 1.296529-2.407839 2.76395-3.304256 4.363378L269.318842 736.416166c-4.457522 7.951089-2.977821 17.909905 3.598968 24.221658 3.830235 3.675716 8.823969 5.572926 13.859659 5.572926 3.613294 0 7.247054-0.977257 10.488889-2.973728l219.285309-135.104047c1.327228-0.816598 2.552126-1.784646 3.654226-2.885723l422.369633-422.36861C965.979562 179.471534 965.979562 141.390217 942.576549 117.985158zM418.556794 552.080857l55.42124 55.279001-132.025942 81.343633L418.556794 552.080857zM914.279063 174.579107 505.926678 582.930469l-63.748906-63.586201L850.612021 110.912066c7.798617-7.800663 20.493753-7.804756 28.29544 0l35.371602 35.371602C922.081773 154.084331 922.081773 166.777421 914.279063 174.579107z" fill="#272636" p-id="6022"></path></svg>
                                <!--<i class="fa-solid fa-eye-slash" onclick="togglePassword(this)"></i>-->
                            </div>
                            <div class="form-group">
                                <label>{$Think.lang.Email}</label>
                                <input  type="text" class="form-control style-white" value="{$userInfo.email}" name="email" id="email" placeholder="">
                                <i class="fal fa-envelope"></i>
                            </div>
                            <div class="form-group">
                                <label>{$Think.lang.CountryCode}</label>
                                <select name="phone_code" lay-verify="required" lay-reqText="Please Select Country Code">
                                    <option value="+971">+971</option>
                                </select>
<!--                                <i class="fal fa-phone"></i>-->
                            </div>
                            <div class="form-group">
                                <label>{$Think.lang.Phone}</label>
                                <input type="text" class="form-control style-white" value="{$userInfo.phone}" name="phone" id="phone" placeholder="">
                                <i class="fal fa-phone"></i>
                            </div>
                            <div class="form-btn col-12 text-center th-btn-sx w-100"  onclick="submitForm()">
<!--                                <button class="th-btn-sx w-100" onclick="submitForm()">-->
                                {$Think.lang.Modify}
<!--                                </button>-->
                            </div>
                        </div>
                        <p class="form-messages form-messages_login mb-0 mt-3"></p>
                    </form>
                </div>
                <div class="none" id="userWallet">
                    {$Think.lang.UserWallet}
                </div>
            </div>

        </div>
    </div>
</section>
<script>
function changeEdit() {

    console.log(document.getElementById('login_password').disabled = '')
}
    /*
function showMenu(click_obj, id) {
    let obj_list = document.getElementsByClassName('left_a')
    // 全部隐藏
    for (var i = 0; i < obj_list.length; i++) {
        var dataId = obj_list[i].getAttribute('data-id');
        obj_list[i].classList.remove('selected');
        document.getElementById(dataId).style.display = 'none';
    }
    //当前点击的元素显示
    dataIdThis = click_obj.getAttribute('data-id');
    click_obj.classList.add('selected');
    document.getElementById(dataIdThis).style.display = 'block';

}
*/
function togglePassword(obj) {
    const passwordField = document.getElementById('login_password');
    if (passwordField.type === 'password') {
        passwordField.type = 'text';
        obj.classList.remove("fa-eye-slash"); // 移除指定的class
        obj.classList.add("fa-eye"); // 增加指定的class
    } else {
        passwordField.type = 'password';
        obj.classList.add("fa-eye-slash"); // 移除指定的class
        obj.classList.remove("fa-eye"); // 增加指定的class
    }

}

function submitForm(){
    $.ajax({
        url: "{:url('ajaxUpdateUser')}",
        type: 'post',
        dataType: 'json',
        data: $('#pc_form').serializeArray(),
        success: function (rs) {
            var formMessages_login = $(".form-messages_login");
            // Qmsg.info(rs.msg);
            if (rs.result) {
                window.location.href = rs.url;
            } else {
                formMessages_login.removeClass("success");
                formMessages_login.addClass("error");
                // Set the message text.
                formMessages_login.text(rs.msg);
            }
        },
        error: function () {
            Qmsg.error(rs.msg);
        }
    });
}

</script>
<!--==============================
Footer Area
==============================-->


{include file="public/footer"/}
