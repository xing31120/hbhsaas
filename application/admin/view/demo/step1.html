<!DOCTYPE html>
<html style="background:white;">
<head>
  <meta charset="utf-8">
  <title>中装saas</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <link rel="stylesheet" href="__YUN_PUBLIC_DIR__/static/layuiadmin/layui/css/layui.css" media="all">
  <link rel="stylesheet" href="__YUN_PUBLIC_DIR__/static/css/comm.css">
</head>
<body>
  <form class="layui-form" action="" lay-filter="component-form-group">

    <div class="layui-form-item layui-form-text">
      <label class="layui-form-label">历史分类</label>
      <div class="layui-input-inline w300">
        <select name="interest">
          <option value=""></option>
          <option value="0">家用电器 > 大家电 > 即热水龙头</option>
          <!-- <option value="1" selected="">阅读</option> -->
          <option value="1">阅读</option>
        </select>
      </div>
    </div>
    <div class="layui-form-item layui-form-text">
      <!-- 必填项 -->
      <input type="hidden" name="class">
       <input type="hidden" name="class" lay-verify="required">

      <label class="layui-form-label star">商品分类</label>
      <div class="layui-input-block">
          <div id="">
            <div class="layui-transfer layui-form layui-border-box">
              <div class="layui-transfer-box class-box">
                <div class="layui-transfer-header">
                  <div class="layui-unselect layui-form-checkbox" lay-skin="primary"><span>请选择一级分类</span>
                  </div>
                </div>
                <ul class="layui-transfer-data" id="class1">
                  <li>
                    <div class="layui-unselect layui-form-checkbox" lay-skin="primary" data-type="1">
                      <span>家用电器</span>
                    </div>
                    <!-- <i class="layui-icon layui-colla-icon"></i> -->
                  </li>
                  <li>
                    <div class="layui-unselect layui-form-checkbox" lay-skin="primary" data-type="2">
                      <span>家用电器</span>
                    </div>
                  </li>
                  <li>
                    <div class="layui-unselect layui-form-checkbox" lay-skin="primary" data-type="3">
                      <span>家用电器</span>
                    </div>
                  </li>
                  <li>
                    <div class="layui-unselect layui-form-checkbox" lay-skin="primary">
                      <span>家用电器</span>
                    </div>
                  </li>
                  <li>
                    <div class="layui-unselect layui-form-checkbox" lay-skin="primary">
                      <span>家用电器</span>
                    </div>
                  </li>
                  <li>
                    <div class="layui-unselect layui-form-checkbox" lay-skin="primary">
                      <span>家用电器</span>
                    </div>
                  </li>
                  <li>
                    <div class="layui-unselect layui-form-checkbox" lay-skin="primary">
                      <span>家用电器</span>
                    </div>
                  </li>
                  <li>
                    <div class="layui-unselect layui-form-checkbox" lay-skin="primary">
                      <span>家用电器</span>
                    </div>
                  </li>
                  <li>
                    <div class="layui-unselect layui-form-checkbox" lay-skin="primary">
                      <span>家用电器</span>
                    </div>
                  </li>
                  <li>
                    <div class="layui-unselect layui-form-checkbox" lay-skin="primary">
                      <span>家用电器</span>
                    </div>
                  </li>
                  <li>
                    <div class="layui-unselect layui-form-checkbox" lay-skin="primary">
                      <span>家用电器</span>
                    </div>
                  </li>
                  <li>
                    <div class="layui-unselect layui-form-checkbox" lay-skin="primary">
                      <span>家用电器</span>
                    </div>
                  </li>
                </ul>
              </div>
              
              <div class="class-btn">
              <div class="layui-transfer-active">
                <button type="button" class="layui-btn layui-btn-sm layui-btn-primary layui-btn-disabled" data-index="0"><i class="layui-icon layui-icon-next"></i></button>
              </div>
              </div>

              <div class="layui-transfer-box class-box" data-index="1">
                <div class="layui-transfer-header">
                  <div class="layui-unselect layui-form-checkbox" lay-skin="primary"><span>请选择二级分类</span>
                  </div>
                </div>
                <ul class="layui-transfer-data">
                  <p class="layui-none">无数据</p>
                </ul>
              </div>
              
              <div class="class-btn">
              <div class="layui-transfer-active">
                <button type="button" class="layui-btn layui-btn-sm layui-btn-primary layui-btn-disabled" data-index="0"><i class="layui-icon layui-icon-next"></i></button>
              </div>
              </div>

              <div class="layui-transfer-box class-box" data-index="1">
                <div class="layui-transfer-header">
                  <div class="layui-unselect layui-form-checkbox" lay-skin="primary"><span>请选择三级分类</span>
                  </div>
                </div>
                <ul class="layui-transfer-data">
                  <p class="layui-none">无数据</p>
                </ul>
              </div>

            </div>
          </div>
      </div>
    </div>
  
    <div class="layui-form-item layui-hide">
      <input type="button" lay-submit lay-filter="layuiadmin-app-form-submit" id="layuiadmin-app-form-submit" value="确认">
    </div>
          
  </form>

  <script src="__YUN_PUBLIC_DIR__/static/layuiadmin/layui/layui.js"></script>
  <script>
  layui.config({
    base: '__YUN_PUBLIC_DIR__/static/layuiadmin/' //静态资源所在路径
  }).extend({
    steps: 'lib/steps/index' 
  }).use(['steps', 'form'], function () {
        var $ = layui.$;
        var form = layui.form;
        var $step= $(window.parent.document).find("#step_demo").step();
        
        //监听提交表单
        form.on('submit(layuiadmin-app-form-submit)', function(data){
            var field = data.field; //获取提交的字段
            alert(JSON.stringify(field));

            //本地缓存
            layui.data('steps', {key: 'step1', value: field});
            console.log(layui.data('step1'));

            //下一步
            $step.nextStep();
        });

        //上一步
        $(window.parent.document).find('.layui-footer .preBtn').click(function(ev) {
            $step.preStep();
        })

        // 商品分类点击
        $('#class1 li').on('click', function(obj, i){
          alert($(this).find('div').data('type'))

          $('#class1 li').removeClass('class-active')
          $(this).addClass('class-active')
        })
  });
  </script>
</body>

</html>