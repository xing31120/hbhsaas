<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>crud</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <link rel="stylesheet" href="__YUN_PUBLIC_DIR__/static/layuiadmin/layui/css/layui.css" media="all">
  <link rel="stylesheet" href="__YUN_PUBLIC_DIR__/static/layuiadmin/style/admin.css" media="all">
  <link rel="stylesheet" href="__YUN_PUBLIC_DIR__/static/css/comm.css">
</head>
<body>
  <div class="layui-fluid">
    <div class="layui-row layui-col-space15">
      <div class="layui-col-md12">
        <div class="layui-card">
          <!-- <div class="layui-card-header">商品设置</div> -->
          <div class="layui-card-body" pad15>

            <!-- <div class="layui-tab"> -->
            <!-- <div class="layui-tab layui-tab-card"> -->
            <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
              <ul class="layui-tab-title">
                <li class="layui-this">普通商品（<span class="comm-color-orange">12</span>）</li>
                <li>虚拟商品（<span class="comm-color-orange">12</span>）</li>
                <li>商品回收站（12）</li>
                <li>普通商品（12）</li>
                <li>普通商品（12）</li>
              </ul>
              <div class="layui-tab-content">
                <div class="layui-tab-item layui-show">
                  <!-- 检索 -->
                  <div class="layui-form layui-card-header layuiadmin-card-header-auto">
                    <div class="layui-form-item">
                      <div class="layui-inline">
                        <label class="layui-form-label">商品分类</label>
                        <div class="layui-input-inline">
                          <select name="quiz1">
                            <option value="">请选择省</option>
                            <option value="浙江" selected="">浙江省</option>
                            <option value="你的工号">江西省</option>
                          </select>
                        </div>
                        <div class="layui-input-inline">
                          <select name="quiz2">
                            <option value="">请选择市</option>
                            <option value="宁波" disabled="">宁波</option>
                            <option value="温州">绍兴</option>
                          </select>
                        </div>
                        <div class="layui-input-inline">
                          <select name="quiz3">
                            <option value="">请选择县/区</option>
                            <option value="余杭区">余杭区</option>
                            <option value="拱墅区">临安市</option>
                          </select>
                        </div>
                        <div class="layui-form-mid layui-word-aux">此处只是演示联动排版，并未做联动交互</div>
                      </div>
                      <div class="layui-inline">
                        <label class="layui-form-label">ID</label>
                        <div class="layui-input-block">
                          <input type="text" name="id" placeholder="请输入" autocomplete="off" class="layui-input">
                        </div>
                      </div>
                      <div class="layui-inline">
                        <label class="layui-form-label">发帖人</label>
                        <div class="layui-input-block">
                          <input type="text" name="poster" placeholder="请输入" autocomplete="off" class="layui-input">
                        </div>
                      </div>
                      <div class="layui-inline">
                        <label class="layui-form-label">发帖内容</label>
                        <div class="layui-input-block">
                          <input type="text" name="content" placeholder="请输入" autocomplete="off" class="layui-input">
                        </div>
                      </div>
                      <div class="layui-inline">
                        <label class="layui-form-label">帖子状态</label>
                        <div class="layui-input-block">
                          <select name="top">
                            <option value="0">正常</option>
                            <option value="1">置顶</option>
                            <option value="2">封禁</option>
                          </select>
                        </div>
                      </div>
                      <div class="layui-inline">
                        <button class="layui-btn layuiadmin-btn-forum-list" lay-submit lay-filter="LAY-app-contlist-search">
                          <i class="layui-icon layui-icon-search layuiadmin-button-btn"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                  <!-- 表格 -->
                  <div class="table-cell-auto">
                    <table class="layui-hide" id="test" lay-filter="test"></table>
                  </div>
                </div>
                <div class="layui-tab-item">
                  <div class="comm-loading">
                      <i class="layui-icon layui-icon-loading-1 layui-icon layui-anim layui-anim-rotate layui-anim-loop"></i>
                  </div>
                  默认宽度是相对于父元素100%适应的，你也可以固定宽度。</div>
                
                <div class="layui-tab-item">3</div>
                <div class="layui-tab-item">4</div>
                <div class="layui-tab-item">5</div>
                <div class="layui-tab-item">6</div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="text/html" id="toolbarDemo">
    <div class="layui-btn-container">
      <button class="layui-btn layui-btn-sm" lay-event="getCheckData">获取选中行数据</button>
      <button class="layui-btn layui-btn-sm" lay-event="addGoods">添加商品</button>
    </div>
  </script>

  

  <script type="text/html" id="switchTpl">
    <!-- 这里的 checked 的状态只是演示 -->
    <input type="checkbox" name="sex" value="{{d.id}}" lay-skin="switch" lay-text="上架|下架" lay-filter="sexDemo" {{ d.id == 10003 ? 'checked' : '' }}>
    <input type="checkbox" name="sex" value="{{d.id}}" lay-skin="switch" lay-text="显示|隐藏" lay-filter="shoDemo" {{ d.id == 10003 ? 'checked' : '' }}>
  </script>

  <script type="text/html" id="checkTpl">
    <div class="table-checkbox-box">
      <input type="checkbox" name="" title="写作" lay-skin="primary"  lay-filter="sexDemo1" checked>
      <input type="checkbox" name="" title="123" lay-skin="primary" checked>
    </div>
  </script>

  <script type="text/html" id="buttonTpl">
    {{d.joinTime}}
    {{#  if(d.joinTime !== '2016-10-14'){ }}
      <button class="layui-btn layui-btn-xs">已发布</button>
    {{#  } else { }}
      <button class="layui-btn layui-btn-primary layui-btn-xs">待修改</button>
    {{#  } }}
  </script>
   
  <script type="text/html" id="barDemo">
    <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
  </script>


  <script src="__YUN_PUBLIC_DIR__/static/layuiadmin/layui/layui.js"></script>
  <script>
    layui.config({
      base: '__YUN_PUBLIC_DIR__/static/layuiadmin/' //静态资源所在路径
    }).extend({
      index: 'lib/index' //主入口模块
    }).use(['index', 'form', 'table'], function () {

      var table = layui.table,
      form = layui.form;

      //表格数据
      table.render({
        elem: '#test'
        ,url: layui.setter.base + 'json/table/demo.js'
        ,toolbar: '#toolbarDemo' //开启头部工具栏，并为其绑定左侧模板
        ,defaultToolbar: ['filter', 'exports', 'print', { //自定义头部工具栏右侧图标。如无需自定义，去除该参数即可
          title: '提示'
          ,layEvent: 'LAYTABLE_TIPS'
          ,icon: 'layui-icon-tips'
        }]
        ,title: '用户数据表'
        ,cols: [[
          {type: 'checkbox'}
          ,{field:'id', title:'ID', unresize: true, sort: true}
          ,{field:'username', title:'用户名', edit: 'text'}
          ,{field:'email', title:'邮箱', width:200, edit: 'text', templet: function(res){
            return '<div class="table-img-box"><img src="'+ res.img +'"><div class="table-txt-box"><p>商品名称1</p><p>品牌名称</p></div></div>'
          }}
          // ,{field:'sex', title:'性别', width:80, edit: 'text', sort: true}
          ,{field:'city', title:'城市', width:100, templet: '#switchTpl',}
          // ,{field:'sign', title:'签名'}
          ,{field:'experience', title:'积分', width:80, sort: true}
          ,{field:'ip', title:'IP', }
          ,{field:'logins', title:'登入次数', width:100, templet: '#checkTpl'}
          ,{field:'joinTime', title:'加入时间', templet: '#buttonTpl'}
          ,{title:'操作', toolbar: '#barDemo',}
        ]]
        ,page: true
      });

      //监听搜索
      form.on('submit(LAY-app-contlist-search)', function(data){
        var field = data.field; //检索参数
        //执行重载
        table.reload('test', {
          where: field
        });
      });

      //头工具栏事件
      table.on('toolbar(test)', function(obj){
        var checkStatus = table.checkStatus(obj.config.id); //选中的数据数组等对象
        switch(obj.event){
          case 'getCheckData':
            var data = checkStatus.data; //选中的数据数组
            layer.alert(JSON.stringify(data));
          break;
          case 'addGoods':
            layer.alert('add');
          break;
        };
      });

      //监听表体表单操作
      form.on('switch(sexDemo)', function(obj){
        layer.tips(this.value + ' ' + this.name + '：'+ obj.elem.checked, obj.othis);
      });
      form.on('switch(shoDemo)', function(obj){
        layer.alert('显示/隐藏');
      });
      form.on('checkbox(sexDemo1)', function(obj){
        layer.alert('123');
      });
      
      //操作事件
      table.on('tool(test)', function(obj){
        // console.log(obj.data) //编辑的数据
        switch(obj.event){
          case 'edit':
            layer.alert('edit');
          break;
          case 'del':
            layer.alert('del');
          break;
        };
      });

    });
  </script>

</body>

</html>